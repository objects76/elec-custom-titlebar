<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8" />
    <title>Custom titlebar</title>
    <link rel="stylesheet" href="css/style.css" />
  </head>

  <body>
    <header id="titlebar">
      <div id="drag-region">
        <!-- app icon -->
        <div id="app-icon">
          <img src="icons/code_70x70.png" draggable="false" />
        </div>

        <!-- menu  -->
        <nav id="menubar">
          <ul id="root-items">
            <li>
              <a href="#">File</a>
              <ul>
                <li><a href="#">Open</a></li>
                <li><a href="#">Close</a></li>
                <li><a href="#">Exit</a></li>
              </ul>
            </li>
            <li>
              <a href="#">About</a>
              <ul>
                <li><a href="#" class="checked">Logo Design</a></li>
                <li><a href="#">Card Design</a></li>
                <li><a href="#">Poster Design</a></li>
              </ul>
            </li>
            <li>
              <a href="#">Services</a>
              <ul>
                <li><a href="#">Web Design</a></li>
                <li><a href="#">Web Development</a></li>
                <li><a href="#">Email Marketing</a></li>
                <li>
                  <a href="#">Graphics Design ></a>
                  <ul>
                    <li><a href="#">Logo Design</a></li>
                    <li><a href="#">Card Design</a></li>
                    <li><a href="#">Poster Design</a></li>
                  </ul>
                </li>
                <li><a href="#">Brochure Design</a></li>
              </ul>
            </li>
            <li>
              <a href="#">Run</a>
              <ul>
                <li><a href="#">Start Debugging</a></li>
                <li><a href="#">Run Without Debugging</a></li>
                <li class="disabled"><a href="#" class="disabled">Stop Debugging</a></li>
                <li class="disabled"><a href="#" class="disabled">Restart Debugging</a></li>
                <li class="separator"></li>
                <li><a href="#">Open Configuration</a></li>
                <li><a href="#">Add Configuration</a></li>
              </ul>
            </li>
            <li>
              <a href="#">Contact</a>
              <ul>
                <li><a href="#">Logo Design</a></li>
                <li><a href="#">Card Design</a></li>
                <li><a href="#">Poster Design</a></li>
              </ul>
            </li>
          </ul>
        </nav>

        <!-- caption -->
        <div id="caption">
          <span>Test Custom Titlebar in Electron</span>
        </div>

        <!-- system buttons -->
        <div id="sys-btns">
          <div class="button" id="min-button">
            <img class="icon" src="icons/min-w-10.png" draggable="false" />
          </div>

          <div class="button" id="max-button">
            <img class="icon" src="icons/max-w-10.png" draggable="false" />
          </div>

          <div class="button" id="restore-button">
            <img class="icon" src="icons/restore-w-10.png" draggable="false" />
          </div>

          <div class="button" id="close-button">
            <img class="icon" src="icons/close-w-10.png" draggable="false" />
          </div>
        </div>
      </div>
    </header>

    <div id="main2">
      <h1>Webapp style testing...</h1>
      <p>
        Lorem, ipsum dolor sit amet consectetur adipisicing elit. Molestiae saepe odio voluptatibus est itaque amet
        consequuntur vero vel sit laudantium placeat dolor voluptates, accusamus, maiores officia eum mollitia corporis
        ipsam!
      </p>
    </div>

    <div id="main">
      <h1>Content here!</h1>
      <p>
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Quisque hendrerit nulla ut libero varius sollicitudin.
        Morbi suscipit pretium velit id dictum. Curabitur congue faucibus lorem vel placerat. Morbi id sapien ut leo
        tincidunt consectetur quis eu odio. Quisque aliquet, nisl eget dictum sodales, mauris sapien fringilla nisl,
        eget aucto urna libero sit amet lectus. Nam et semper diam. Quisque augue velit, vulputate sit amet nisl vel,
        accumsan euismod mauris. Suspendisse erat lectus, semper vel pulvinar vitae, condimentum in urna. Pellentesque
        habitant morbi tristique senectus et netus malesuada fames ac turpis egestas. Suspendisse ullamcorper felis
        risus, sed porta ligula vulputate a. Maecenas sapien dolor, eleifend a rhoncus placerat, laoreet ut augue.
        Curabitur quis auctor est, ut congue neque.
      </p>
      <p>
        Donec lobortis pellentesque magna, at aliquam sapien et egestas vel. Aenean ac arcu vitae nisi luctus iaculis
        nec nec tortor. In nunc dolor, tincidunt in tincidunt et, scelerisque at velit. Nulla auctor vulputate ex, eget
        tempus mauris rhoncus in. Interdum et malesuada fames ac ante ipsum primis in faucibus. Quisque lectus ex,
        pharetra ut ornare non, mattis quis nunc. Nulla porta, nisl et ullamcorper pretium, eros sem porttitor tellus,
        eu tincidunt turpis mauris sed turpis. Sed a nulla est in lacus consequat consectetur. In vitae cursus orci.
        Nulla vehicula posuere mollis. Fusce eu ipsum at velit tincidunt bibendum non eu lorem. Mauris id augue sapien.
        Vestibulum posuere elit sit amet iaculis dictum. Vivamus suscipit maximus risus, id egestas ligula venenatis
        quis. Pellentesque lobortis sapien vitae nisi venenatis rutrum. Aenean lacus libero, aliquam vitae nisl vitae,
        eleifend fermentum nisi. Nulla non ante nec tortor venenatis fermentum id at justo. Maecenas faucibus aliquam
        nibh non auctor.
      </p>
      <p>
        Morbi cursus augue quis nulla tincidunt, ut vulputate libero semper. Nunc suscipit a purus vel bibendum. Nunc
        rhoncus ante eget elementum finibus. Nulla facilisi. Praesent sed eros rhoncus, molestie eros et, mollis mauris.
        Fusce non placerat lacus. Sed in iaculis orci, ut congue odio. In nec lacus feugiat, rutrum purus ut, efficitur
        nunc. Etiam eget augue sed dui ultricies porttitor in nec leo. Quisque dui leo, sollicitudin blandit molestie,
        posuere eu augue. Phasellus eget risus lobortis, ornare ex nec viverra sapien. Aliquam mi ipsum, eleifend ac
        odio eleifend, tristique tempus odio. Sed ac id tortor laoreet elementum. Lorem ipsum dolor sit amet,
        consectetur adipiscing elit. Quisque hendrerit nulla ut libero varius sollicitudin.
      </p>
      <p>
        Morbi cursus augue quis nulla tincidunt, ut vulputate libero semper. Nunc suscipit a purus vel bibendum. Nunc
        rhoncus ante eget elementum finibus. Nulla facilisi. Praesent sed eros rhoncus, molestie eros et, mollis mauris.
        Fusce non placerat lacus. Sed in iaculis orci, ut congue odio. In nec lacus feugiat, rutrum purus ut, efficitur
        nunc. Etiam eget augue sed dui ultricies porttitor in nec leo. Quisque dui leo, sollicitudin blandit molestie,
        posuere eu augue. Phasellus eget risus lobortis, ornare ex nec viverra sapien. Aliquam mi ipsum, eleifend ac
        odio eleifend, tristique tempus odio. Sed ac id tortor laoreet elementum. Lorem ipsum dolor sit amet,
        consectetur adipiscing elit. Quisque hendrerit nulla ut libero varius sollicitudin.
      </p>

      <br />
      <div class="textwrapper"><textarea cols="2" rows="10" id="rules" /></div>

      <textarea id="w3review" name="w3review" rows="4" cols="50">
        At w3schools.com you will learn how to make a website. They offer free tutorials in all web development technologies.
        </textarea
      >
    </div>

    <div class="statusbar">
      <p>Your Message goes <a href="/yourlink">here</a></p>
      <span class="notification-close">X</span>
    </div>

    <script>
      function delegate(target, selector, eventName, handler) {
        target.addEventListener(eventName, (e) => {
          for (let target = e.target; target && target != this; target = target.parentNode) {
            // loop parent nodes from the target to the delegation node
            if (target.matches(selector)) {
              handler(e);
              break;
            }
          }
        });
      }

      function notifyMe() {
        console.log(Notification.permission);
        if (!("Notification" in window)) {
          alert("This browser does not support desktop notification");
          return;
        }

        // Let's check whether notification permissions have already been granted
        if (Notification.permission === "granted") {
          console.log("If it's okay let's create a notification");
          let notification = new Notification("Hi there!", {
            body: "More detail message here....",
            icon: "icons/code_70x70.png",
          });
        }

        // Otherwise, we need to ask the user for permission
        else if (Notification.permission !== "denied") {
          Notification.requestPermission().then(function (permission) {
            // If the user accepts, let's create a notification
            if (permission === "granted") {
              let notification = new Notification("Hi there!", {
                body: "More detail message here....",
              });
            }
          });
        }
      }
    </script>
    <script>
      // add menubar event handler.
      const menubar = document.querySelector("#menubar > ul");
      delegate(menubar, "li", "click", (e) => {
        console.log(e.target.innerText);
        switch (e.target.innerText) {
          case "Logo Design":
          case "Card Design":
          case "Poster Design":
            e.target.classList.toggle("checked");
            break;
          case "Add Configuration":
            notifyMe();
            break;
        }
        //menubar.classList.toggle("opened");
      });

      require("./renderer.js");
    </script>
  </body>
</html>
